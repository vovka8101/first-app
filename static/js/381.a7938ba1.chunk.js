"use strict";(self.webpackChunkfirst_app=self.webpackChunkfirst_app||[]).push([[381],{9381:function(e,t,s){s.r(t),s.d(t,{default:function(){return T}});var o=s(5671),n=s(3144),i=s(136),a=s(7277),r=s(8683),l=s(2791),c=s(9101),d=s(885),u={wrapper:"ProfileInfo_wrapper__Poe60",description:"ProfileInfo_description__lwscs",hidden:"ProfileInfo_hidden__gJm38",ava:"ProfileInfo_ava__lq0vL",editProfileImg:"ProfileInfo_editProfileImg__PNrLN",status:"ProfileInfo_status__vukRz",statusTitle:"ProfileInfo_statusTitle__fM+Zn",statusText:"ProfileInfo_statusText__46uMV",statusInputField:"ProfileInfo_statusInputField__-SYAu",additionalInfo:"ProfileInfo_additionalInfo__4Jsy-",editAdditionalInfo:"ProfileInfo_editAdditionalInfo__ZC1dQ",editSign:"ProfileInfo_editSign__ooKzl",contacts:"ProfileInfo_contacts__AMN09"},f=s(184),m=function(e){var t=e.status,s=e.updateProfileStatus,o=e.isOwner,n=(0,l.useState)(!1),i=(0,d.Z)(n,2),a=i[0],r=i[1],c=(0,l.useState)(t),m=(0,d.Z)(c,2),p=m[0],h=m[1];(0,l.useEffect)((function(){h(t)}),[t]);return(0,f.jsx)("div",{children:(0,f.jsxs)("p",{className:u.status,children:[!a&&(0,f.jsx)("span",{onClick:function(){o&&r(!0)},className:o?u.statusText:"",children:t||"N/A"}),a&&(0,f.jsx)("input",{className:u.statusInputField,type:"text",value:p,autoFocus:!0,onBlur:function(){s(p),r(!1)},onChange:function(e){h(e.target.value)}})]})})},p=s(1612);var h=s.p+"static/media/edit-sign.3ea4cf483224d228ffe4b284f7c30807.svg",x=s(5705),j=(s(8976),{overlay:"ProfileDataForm_overlay__87T0r",formContainer:"ProfileDataForm_formContainer__tH1Ej",iconClose:"ProfileDataForm_iconClose__FpgcX",profileDataFormControl:"ProfileDataForm_profileDataFormControl__NSMj6",isLookingLabel:"ProfileDataForm_isLookingLabel__pGDrM",isLookingField:"ProfileDataForm_isLookingField__5+3l7",contactsTitle:"ProfileDataForm_contactsTitle__ID9sE",contactsContainer:"ProfileDataForm_contactsContainer__ttBnY",contactItem:"ProfileDataForm_contactItem__oc-k1",submit:"ProfileDataForm_submit__u2pSM",submit__btn:"ProfileDataForm_submit__btn__xwDdu"}),g=s(8503),b=function(e){var t=e.fullName,s=e.aboutMe,o=e.lookingForAJob,n=e.lookingForAJobDescription,i=e.profileContacts,a=e.updateProfileInfo,c=e.setEditMode;var d,u=(0,l.useRef)(null);return d=u,(0,l.useEffect)((function(){var e=function(e){d.current&&!d.current.contains(e.target)&&c(!1)};return document.addEventListener("mousedown",e,!0),function(){document.removeEventListener("mousedown",e)}}),[d]),(0,f.jsx)("div",{className:j.overlay,children:(0,f.jsxs)("div",{className:j.formContainer,ref:u,children:[(0,f.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADpSURBVHgB7VQ9DoMgFH7YxcGhg4ODA6PX6E08gt269Qo9glfoCXoFR0cO4EA3mphQXkOThqI8B8Lil5AQ+H4UHg9gR2oc3AXO+bGqqktZlmKaJgkENE3DDb8rimKQUqrfvcwl53neMcauZjxQCARz5KIGte5+5tH0Zgj8mVDI1xy5VtO7HEYRaq1P4ziKrZzFgJAB1Xw1YMnoIyKaBwN8IXaZZE4K8IQA1RyRQWSkPaKolxy1TKM+tC1fR+H6qqgF4vninr0XYTWty/lr13VdD/M8v8z0TKlzbOmmVd/N9KmUurntekd6vAEIQc+dYHYJ7wAAAABJRU5ErkJggg==",alt:"close icon",onClick:function(){c(!1)},className:j.iconClose}),(0,f.jsx)(x.J9,{initialValues:{fullName:t,aboutMe:s,lookingForAJob:o,lookingForAJobDescription:n,contacts:(0,r.Z)({},i)},onSubmit:function(e,t){var s=t.setStatus;a(e,s).then((function(){c(!1)})).catch((function(e){console.log(e)}))},children:function(e){return(0,f.jsxs)(x.l0,{className:j.formContent,noValidate:!0,children:[(0,f.jsxs)("div",{className:"form-control ".concat(j.profileDataFormControl),children:[(0,f.jsx)("label",{htmlFor:"fullName",children:(0,f.jsx)("b",{children:"Full name:"})}),(0,f.jsx)(x.gN,{type:"text",name:"fullName"})]}),(0,f.jsxs)("div",{className:"form-control ".concat(j.profileDataFormControl),children:[(0,f.jsx)("label",{htmlFor:"aboutMe",children:(0,f.jsx)("b",{children:"About me:"})}),(0,f.jsx)(x.gN,{type:"text",name:"aboutMe"})]}),(0,f.jsxs)("div",{className:"form-control ".concat(j.profileDataFormControl),children:[(0,f.jsx)("label",{htmlFor:"lookingForAJob",className:j.isLookingLabel,children:(0,f.jsx)("b",{children:"Looking for a job:"})}),(0,f.jsx)(x.gN,{type:"checkbox",name:"lookingForAJob",className:j.isLookingField})]}),(0,f.jsxs)("div",{className:"form-control ".concat(j.profileDataFormControl),children:[(0,f.jsx)("label",{htmlFor:"lookingForAJobDescription",children:(0,f.jsx)("b",{children:"Looking for a job description:"})}),(0,f.jsx)(x.gN,{type:"text",name:"lookingForAJobDescription"})]}),(0,f.jsxs)("div",{className:"form-control ".concat(j.profileDataFormControl),children:[(0,f.jsx)("h3",{className:j.contactsTitle,children:"Contacts"}),(0,f.jsxs)("section",{className:j.contactsContainer,children:[(0,f.jsxs)("div",{className:j.contactItem,children:[(0,f.jsx)("label",{htmlFor:"contacts.facebook",children:(0,f.jsx)("b",{children:"Facebook: "})}),(0,f.jsx)(x.gN,{type:"url",name:"contacts.facebook",placeholder:"facebook link"})]}),(0,f.jsxs)("div",{className:j.contactItem,children:[(0,f.jsx)("label",{htmlFor:"contacts.website",children:(0,f.jsx)("b",{children:"Website: "})}),(0,f.jsx)(x.gN,{type:"url",name:"contacts.website",placeholder:"website link"})]}),(0,f.jsxs)("div",{className:j.contactItem,children:[(0,f.jsx)("label",{htmlFor:"contacts.vk",children:(0,f.jsx)("b",{children:"VK: "})}),(0,f.jsx)(x.gN,{type:"url",name:"contacts.vk",placeholder:"vk link"})]}),(0,f.jsxs)("div",{className:j.contactItem,children:[(0,f.jsx)("label",{htmlFor:"contacts.twitter",children:(0,f.jsx)("b",{children:"Twitter: "})}),(0,f.jsx)(x.gN,{type:"url",name:"contacts.twitter",placeholder:"twitter link"})]}),(0,f.jsxs)("div",{className:j.contactItem,children:[(0,f.jsx)("label",{htmlFor:"contacts.instagram",children:(0,f.jsx)("b",{children:"Instagram: "})}),(0,f.jsx)(x.gN,{type:"url",name:"contacts.instagram",placeholder:"instagram link"})]}),(0,f.jsxs)("div",{className:j.contactItem,children:[(0,f.jsx)("label",{htmlFor:"contacts.youtube",children:(0,f.jsx)("b",{children:"YouTube: "})}),(0,f.jsx)(x.gN,{type:"url",name:"contacts.youtube",placeholder:"youtube link"})]}),(0,f.jsxs)("div",{className:j.contactItem,children:[(0,f.jsx)("label",{htmlFor:"contacts.github",children:(0,f.jsx)("b",{children:"GitHub: "})}),(0,f.jsx)(x.gN,{type:"url",name:"contacts.github",placeholder:"github link"})]}),(0,f.jsxs)("div",{className:j.contactItem,children:[(0,f.jsx)("label",{htmlFor:"contacts.mainLink",children:(0,f.jsx)("b",{children:"Main link: "})}),(0,f.jsx)(x.gN,{type:"url",name:"contacts.mainLink",placeholder:"main link"})]})]})]}),(0,f.jsx)(g.Z,{children:e.status}),(0,f.jsx)("div",{className:j.submit,children:(0,f.jsx)("button",{type:"submit",disabled:!e.dirty,className:j.submit__btn,children:"Save"})})]})}})]})})},_=function(e){return(0,f.jsxs)("section",{className:u.additionalInfo,children:[(0,f.jsxs)("p",{children:[(0,f.jsx)("b",{children:"About me: "}),e.aboutMe]}),(0,f.jsxs)("p",{children:[(0,f.jsx)("b",{children:"Looking for a job: "}),e.lookingForAJob?"Yes":"No"]}),(0,f.jsxs)("p",{children:[(0,f.jsx)("b",{children:"Looking For A Job Description: "}),e.lookingForAJobDescription]}),(0,f.jsxs)("ul",{className:u.contacts,children:[(0,f.jsx)("li",{children:(0,f.jsx)("b",{children:"Contacts: "})}),Object.keys(e.profileContacts).map((function(t){return e.profileContacts[t]&&(0,f.jsx)("li",{children:(0,f.jsx)(v,{contactTitle:t,contactValue:e.profileContacts[t]})},t)}))]}),e.isOwner&&(0,f.jsx)("div",{onClick:function(){e.setEditMode(!0)},className:u.editAdditionalInfo,children:(0,f.jsx)("img",{src:h,alt:"edit",className:u.editSign})})]})},v=function(e){var t=e.contactTitle,s=e.contactValue;return(0,f.jsx)("a",{target:"_blank",rel:"noreferrer",href:s,children:t})},A=function(e){var t=(0,l.useState)(!1),s=(0,d.Z)(t,2),o=s[0],n=s[1],i=e.contacts;return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:u.wrapper,children:[(0,f.jsxs)("div",{className:u.profileImgContainer,children:[(0,f.jsx)("img",{className:u.ava,src:e.photos.large||p,alt:"Ava"}),e.isOwner&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("input",{type:"file",id:"files",capture:"image/*",className:u.hidden,onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}}),(0,f.jsx)("label",{htmlFor:"files",className:u.editProfileImg,children:"load photo"})]})]}),(0,f.jsxs)("div",{className:u.description,children:[(0,f.jsx)("h2",{children:e.fullName}),(0,f.jsx)(m,{status:e.status,updateProfileStatus:e.updateProfileStatus,isOwner:e.isOwner}),o&&(0,f.jsx)(b,(0,r.Z)((0,r.Z)({},e),{},{profileContacts:i,setEditMode:n})),(0,f.jsx)(_,(0,r.Z)((0,r.Z)({},e),{},{profileContacts:i,setEditMode:n}))]})]})})},N="Post_item__eOMpk",P="Post_postInfo__Y+SGv",k="Post_postText__8rs9k",I="Post_postLikes__pNDzx",F=function(e){return(0,f.jsxs)("div",{className:N,children:[(0,f.jsxs)("div",{className:P,children:[(0,f.jsx)("img",{src:e.photo,alt:"Random"}),(0,f.jsxs)("div",{className:I,children:["Likes: ",e.likesCount]})]}),(0,f.jsx)("div",{className:k,children:e.message})]})},C={postsContent:"Posts_postsContent__l639j"},D=function(e){var t=e.posts.map((function(e){return(0,f.jsx)(F,{message:e.message,likesCount:e.likesCount,photo:e.imgSrc},e.id)}));return(0,f.jsxs)("div",{className:C.postsContent,children:[(0,f.jsx)(x.J9,{initialValues:{postMessage:""},onSubmit:function(t,s){var o=s.resetForm;e.addPost(t.postMessage),o({values:""})},children:function(e){var t=e.values;return(0,f.jsxs)(x.l0,{children:[(0,f.jsx)("div",{children:(0,f.jsx)(x.gN,{as:"textarea",name:"postMessage"})}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{type:"submit",disabled:!t.postMessage,children:"Add post"})})]})}}),(0,f.jsx)("h2",{children:"My posts"}),(0,f.jsx)("div",{className:C.posts,children:t})]})},y=s(6508),w=(0,c.$j)((function(e){return{posts:e.profilePage.posts}}),{addPost:y.q2})(D),M=s(5756),S=function(e){return e.profile?(0,f.jsxs)("div",{children:[(0,f.jsx)(A,(0,r.Z)((0,r.Z)({},e.profile),{},{status:e.status,updateProfileStatus:e.updateProfileStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,updateProfileInfo:e.updateProfileInfo})),(0,f.jsx)(w,{})]}):(0,f.jsx)(M.Z,{})},Z=s(7689),L=s(1548),E=s(7781);var J=function(e){(0,i.Z)(s,e);var t=(0,a.Z)(s);function s(){return(0,o.Z)(this,s),t.apply(this,arguments)}return(0,n.Z)(s,[{key:"refreshProfile",value:function(){var e=this.props.router.params.profileId;e||(e=this.props.userId),this.props.getProfile(e),this.props.getProfileStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.router.params.profileId!==e.router.params.profileId&&this.refreshProfile()}},{key:"render",value:function(){return(0,f.jsx)(S,{profile:this.props.profile,status:this.props.status,updateProfileStatus:this.props.updateProfileStatus,isOwner:!this.props.router.params.profileId,savePhoto:this.props.savePhoto,updateProfileInfo:this.props.updateProfileInfo})}}]),s}(l.Component),T=(0,E.qC)((0,c.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,userId:e.auth.id}}),{getProfile:y.Ai,getProfileStatus:y.TL,updateProfileStatus:y.vq,savePhoto:y.Ju,updateProfileInfo:y.y3}),(function(e){return function(t){var s=(0,Z.TH)(),o=(0,Z.s0)(),n=(0,Z.UO)();return(0,f.jsx)(e,(0,r.Z)((0,r.Z)({},t),{},{router:{location:s,navigate:o,params:n}}))}}),L.D)(J)}}]);
//# sourceMappingURL=381.a7938ba1.chunk.js.map